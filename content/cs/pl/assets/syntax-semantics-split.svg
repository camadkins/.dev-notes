<svg width="1200" height="700" viewBox="0 0 1200 700" xmlns="http://www.w3.org/2000/svg" font-family="Inter, system-ui, -apple-system, Segoe UI, Roboto, sans-serif">
  <title>Syntax vs Semantics — clean separation</title>
  <defs>
    <filter id="shadow" x="-20%" y="-20%" width="140%" height="140%">
      <feDropShadow dx="0" dy="1" stdDeviation="2" flood-color="#000" flood-opacity="0.15"></feDropShadow>
    </filter>
    <marker id="arrow" viewBox="0 0 10 10" refX="9" refY="5" markerWidth="10" markerHeight="10" orient="auto-start-reverse">
      <path d="M 0 0 L 10 5 L 0 10 z" fill="#333"></path>
    </marker>
    <marker id="arrow-blue" viewBox="0 0 10 10" refX="9" refY="5" markerWidth="10" markerHeight="10" orient="auto-start-reverse">
      <path d="M 0 0 L 10 5 L 0 10 z" fill="#0b5ed7"></path>
    </marker>
    <marker id="arrow-green" viewBox="0 0 10 10" refX="9" refY="5" markerWidth="10" markerHeight="10" orient="auto-start-reverse">
      <path d="M 0 0 L 10 5 L 0 10 z" fill="#2e7d32"></path>
    </marker>
    <style>
      .panelTitle{font-size:20px;font-weight:700;fill:#111}
      .panel{rx:14;fill:#f8f9fa;stroke:#ced4da}
      .chip{rx:8;fill:#e9ecef;stroke:#adb5bd}
      .chipLbl{font-size:14px;fill:#111;font-weight:600}
      .subtle{font-size:13px;fill:#555}
      .code{font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", monospace;}
    </style>
  </defs>

  <!-- Header -->
  <text x="600" y="40" text-anchor="middle" font-size="22" font-weight="700" fill="#111">
    Syntax vs Semantics
  </text>
  <text x="600" y="64" text-anchor="middle" font-size="14" fill="#444">
    Define forms with grammars &amp; ASTs; define meaning with typing &amp; evaluation
  </text>

  <!-- Vertical divider: boundary of meaning (nudged right so arrows/labels don't collide) -->
  <g transform="translate(610,110)">
    <line x1="0" y1="0" x2="0" y2="500" stroke="#adb5bd" stroke-dasharray="8 8" stroke-width="2"></line>
    <rect x="-118" y="230" width="236" height="28" rx="14" fill="#fff" stroke="#adb5bd"></rect>
    <text x="0" y="249" text-anchor="middle" font-size="12" fill="#333">boundary of meaning</text>
  </g>

  <!-- Left panel: SYNTAX -->
  <g transform="translate(70,110)" filter="url(#shadow)">
    <rect class="panel" x="0" y="0" width="480" height="500"></rect>
    <text class="panelTitle" x="24" y="36">Syntax</text>
    <text x="24" y="60" class="subtle">Which strings are well-formed</text>

    <!-- Chips: Grammar, AST -->
    <rect class="chip" x="24" y="90" width="120" height="34"></rect>
    <text class="chipLbl" x="84" y="112" text-anchor="middle">Grammar</text>

    <rect class="chip" x="200" y="90" width="90" height="34"></rect>
    <text class="chipLbl" x="245" y="112" text-anchor="middle">AST</text>

    <!-- Arrow Grammar -> AST -->
    <path d="M 144 107 C 165 107, 180 107, 200 107" fill="none" stroke="#0b5ed7" stroke-width="2.5" marker-end="url(#arrow-blue)"></path>
    <text x="172" y="98" font-size="12" fill="#0b5ed7">parse</text>

    <!-- Tiny AST diagram for 1 + 2 * 3 -->
    <g transform="translate(24,160)">
      <text x="0" y="-10" font-size="14" fill="#333">Example (concrete → abstract)</text>
      <rect x="0" y="6" width="220" height="36" rx="8" fill="#f1f3f5" stroke="#adb5bd"></rect>
      <text x="110" y="30" text-anchor="middle" font-size="16" fill="#222" class="code">1 + 2 * 3</text>

      <!-- AST (with * precedence) -->
      <g transform="translate(260,0)">
        <text x="0" y="-10" font-size="13" fill="#555">AST</text>
        <!-- edges -->
        <line x1="70" y1="40" x2="20" y2="110" stroke="#444" stroke-width="2"></line>
        <line x1="70" y1="40" x2="120" y2="110" stroke="#444" stroke-width="2"></line>
        <!-- root '+' -->
        <rect x="50" y="10" width="40" height="40" rx="8" fill="#0b5ed7" stroke="#083b8a" stroke-width="2"></rect>
        <text x="70" y="36" text-anchor="middle" font-size="16" fill="#fff" font-weight="700">+</text>

        <!-- left child '1' -->
        <rect x="0" y="110" width="40" height="40" rx="8" fill="#e9ecef" stroke="#adb5bd" stroke-width="2"></rect>
        <text x="20" y="136" text-anchor="middle" font-size="16" fill="#111" font-weight="600">1</text>

        <!-- right child '*' subtree -->
        <line x1="120" y1="110" x2="95" y2="170" stroke="#444" stroke-width="2"></line>
        <line x1="120" y1="110" x2="145" y2="170" stroke="#444" stroke-width="2"></line>
        <rect x="100" y="90" width="40" height="40" rx="8" fill="#0b5ed7" stroke="#083b8a" stroke-width="2"></rect>
        <text x="120" y="116" text-anchor="middle" font-size="16" fill="#fff" font-weight="700">*</text>
        <rect x="80" y="170" width="40" height="40" rx="8" fill="#e9ecef" stroke="#adb5bd" stroke-width="2"></rect>
        <text x="100" y="196" text-anchor="middle" font-size="16" fill="#111" font-weight="600">2</text>
        <rect x="140" y="170" width="40" height="40" rx="8" fill="#e9ecef" stroke="#adb5bd" stroke-width="2"></rect>
        <text x="160" y="196" text-anchor="middle" font-size="16" fill="#111" font-weight="600">3</text>
      </g>
    </g>

    <!-- Hint text -->
    <text x="24" y="390" class="subtle">
      Keep syntax lean: use precedence/associativity (EBNF/levels) to avoid ambiguity.
    </text>
  </g>

  <!-- Right panel: SEMANTICS (nudged 10px right for breathing room) -->
  <g transform="translate(660,110)" filter="url(#shadow)">
    <rect class="panel" x="0" y="0" width="480" height="500"></rect>
    <text class="panelTitle" x="24" y="36">Semantics</text>
    <text x="24" y="60" class="subtle">What well-formed programs mean</text>

    <!-- Chips: Typing rules -> Evaluation -> Behavior -->
    <rect class="chip" x="24" y="90" width="140" height="34"></rect>
    <text class="chipLbl" x="94" y="112" text-anchor="middle">Typing rules</text>

    <rect class="chip" x="204" y="90" width="130" height="34"></rect>
    <text class="chipLbl" x="269" y="112" text-anchor="middle">Evaluation</text>

    <rect class="chip" x="364" y="90" width="92" height="34"></rect>
    <text class="chipLbl" x="410" y="112" text-anchor="middle">Behavior</text>

    <!-- Arrows Typing -> Evaluation -> Behavior -->
    <path d="M 164 107 C 178 107, 190 107, 204 107" fill="none" stroke="#2e7d32" stroke-width="2.5" marker-end="url(#arrow-green)"></path>
    <path d="M 334 107 C 346 107, 355 107, 364 107" fill="none" stroke="#2e7d32" stroke-width="2.5" marker-end="url(#arrow-green)"></path>

    <!-- Example: result / behavior -->
    <g transform="translate(24,160)">
      <text x="0" y="-10" font-size="14" fill="#333">Example (meaning)</text>
      <rect x="0" y="6" width="220" height="36" rx="8" fill="#f1f3f5" stroke="#adb5bd"></rect>
      <text x="110" y="30" text-anchor="middle" font-size="16" fill="#222" class="code">evaluates to 7</text>
      <text x="0" y="74" class="subtle">Typing ensures constraints; evaluation gives a result/behavior.</text>
    </g>
  </g>

  <!-- Cross-panel arrows: Grammar -> AST -> Meaning -->
  <!-- AST → Semantics: moved left & raised to avoid divider/label -->
  <path d="M 500 275 C 540 275, 575 275, 610 275" fill="none" stroke="#0b5ed7" stroke-width="2.5" marker-end="url(#arrow-blue)"></path>
  <text x="560" y="260" font-size="12" fill="#0b5ed7">input to semantics</text>

  <!-- Evaluation → Behavior outer hint: lifted to clear chip edge -->
  <path d="M 1024 186 C 1050 186, 1072 186, 1095 210" fill="none" stroke="#2e7d32" stroke-width="2.5" marker-end="url(#arrow-green)"></path>
  <text x="1090" y="205" font-size="12" fill="#2e7d32">observable effect/value</text>

  <!-- Footnote -->
  <text x="600" y="650" text-anchor="middle" font-size="12" fill="#666">
    Syntax determines structure (Grammar → AST). Semantics assigns meaning (Typing → Evaluation → Behavior).
  </text>

  <metadata>Intended path: /cs/pl/assets/syntax-semantics-split.svg; canvas 1200x700; overlaps cleared</metadata>
</svg>
